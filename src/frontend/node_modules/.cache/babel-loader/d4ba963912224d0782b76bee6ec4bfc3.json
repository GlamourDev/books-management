{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Henry\\\\Pictures\\\\tlnsadama kliendipinnacroppedimages\\\\react-and-spring-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Henry\\\\Pictures\\\\tlnsadama kliendipinnacroppedimages\\\\react-and-spring-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Henry\\\\Pictures\\\\tlnsadama kliendipinnacroppedimages\\\\react-and-spring-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Henry\\\\Pictures\\\\tlnsadama kliendipinnacroppedimages\\\\react-and-spring-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Henry\\\\Pictures\\\\tlnsadama kliendipinnacroppedimages\\\\react-and-spring-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Henry\\\\Pictures\\\\tlnsadama kliendipinnacroppedimages\\\\react-and-spring-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Henry\\\\Pictures\\\\tlnsadama kliendipinnacroppedimages\\\\react-and-spring-master\\\\frontend\\\\src\\\\component\\\\EditBooksComponent.jsx\";\nimport React, { Component } from \"react\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport BooksDataService from \"../service/BooksDataService\";\nimport CommentsDataService from \"../service/CommentsDataService\";\nvar INSTRUCTOR = \"in28minutes\";\n\nvar EditBooksComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EditBooksComponent, _Component);\n\n  function EditBooksComponent(props) {\n    var _this;\n\n    _classCallCheck(this, EditBooksComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditBooksComponent).call(this, props));\n    _this.state = {\n      id: _this.props.match.params.id,\n      author: \"\",\n      description: \"\",\n      isbn: \"\"\n    };\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.validate = _this.validate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(EditBooksComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      console.log(this.state.id); // eslint-disable-next-line\n\n      if (this.state.id == -1) {\n        return;\n      }\n\n      BooksDataService.retrieveBook(INSTRUCTOR, this.state.id).then(function (response) {\n        return _this2.setState({\n          description: response.data.description,\n          author: response.data.author,\n          isbn: response.data.isbn\n        });\n      });\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(values) {\n      var errors = {};\n\n      if (!values.description) {\n        errors.description = \"Enter a Description\";\n      } else if (values.description.length < 5) {\n        errors.description = \"Enter atleast 5 Characters in Description\";\n      }\n\n      return errors;\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(values) {\n      var _this3 = this;\n\n      var book = {\n        \"id\": this.state.id,\n        \"description\": values.description,\n        \"author\": values.author,\n        \"isbn\": values.isbn\n      };\n\n      if (this.state.id === \"-1\") {\n        console.log(\"this.state.id === -1\", this.props.history);\n        BooksDataService.createBook(book).then(function () {\n          return _this3.props.history.push(\"/students\");\n        });\n      } else {\n        console.log(\"EI JOOKSE\");\n        BooksDataService.updateBook(this.state.id, book).then(function () {\n          return _this3.props.history.push(\"/students\");\n        });\n      }\n\n      console.log(this.state.id);\n      console.log(values);\n    }\n  }, {\n    key: \"onSubmitComment\",\n    value: function onSubmitComment(values) {\n      var _this4 = this;\n\n      var username = INSTRUCTOR;\n      var book = {\n        comment: values.comment\n      };\n\n      if (this.comment) {\n        CommentsDataService.createBook(username, book).then(function () {\n          return _this4.props.history.push(\"/comments\");\n        });\n      } else {\n        CommentsDataService.updateBook(username, book).then(function () {\n          return _this4.props.history.push(\"/comments\");\n        });\n      }\n\n      console.log(values);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          description = _this$state.description,\n          id = _this$state.id,\n          author = _this$state.author,\n          isbn = _this$state.isbn;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-6 first-column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Edit book\"), React.createElement(Formik, {\n        initialValues: {\n          id: id,\n          description: description,\n          author: author,\n          isbn: isbn\n        },\n        onSubmit: this.onSubmit,\n        validateOnChange: false,\n        validateOnBlur: false,\n        validate: this.validate,\n        enableReinitialize: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, function (props) {\n        return React.createElement(Form, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, React.createElement(ErrorMessage, {\n          name: \"description\",\n          component: \"div\",\n          className: \"alert alert-warning\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }), React.createElement(\"fieldset\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, \"Id\"), React.createElement(Field, {\n          className: \"form-control\",\n          type: \"text\",\n          name: \"id\",\n          disabled: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        })), React.createElement(\"fieldset\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, \"Title\"), React.createElement(Field, {\n          className: \"form-control\",\n          type: \"text\",\n          name: \"description\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        })), React.createElement(\"fieldset\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, \"Author\"), React.createElement(Field, {\n          className: \"form-control\",\n          type: \"text\",\n          name: \"author\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        })), React.createElement(\"fieldset\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, \"ISBN-13\"), React.createElement(Field, {\n          className: \"form-control\",\n          type: \"text\",\n          name: \"isbn\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        })), React.createElement(\"button\", {\n          className: \"btn btn-success float-right\",\n          type: \"submit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, \"Update\"));\n      })), React.createElement(\"div\", {\n        className: \"col-sm-6 second-column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"Comments\"), React.createElement(Formik, {\n        onSubmit: this.onSubmitComment,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, function (props) {\n        return React.createElement(Form, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, React.createElement(\"fieldset\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, \"Comment\"), React.createElement(Field, {\n          className: \"form-control\",\n          type: \"text\",\n          name: \"comment\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        })), React.createElement(\"button\", {\n          className: \"btn btn-success float-right\",\n          type: \"submit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, \"Add comment\"));\n      })))));\n    }\n  }]);\n\n  return EditBooksComponent;\n}(Component);\n\nexport default EditBooksComponent;","map":{"version":3,"sources":["C:\\Users\\Henry\\Pictures\\tlnsadama kliendipinnacroppedimages\\react-and-spring-master\\frontend\\src\\component\\EditBooksComponent.jsx"],"names":["React","Component","Formik","Form","Field","ErrorMessage","BooksDataService","CommentsDataService","INSTRUCTOR","EditBooksComponent","props","state","id","match","params","author","description","isbn","onSubmit","bind","validate","console","log","retrieveBook","then","response","setState","data","values","errors","length","book","history","createBook","push","updateBook","username","comment","onSubmitComment"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport BooksDataService from \"../service/BooksDataService\";\nimport CommentsDataService from \"../service/CommentsDataService\";\n\nconst INSTRUCTOR = \"in28minutes\";\n\nclass EditBooksComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      id: this.props.match.params.id,\n      author: \"\",\n      description: \"\",\n      isbn: \"\"\n    };\n\n    this.onSubmit = this.onSubmit.bind(this);\n    this.validate = this.validate.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(this.state.id);\n\n    // eslint-disable-next-line\n    if (this.state.id == -1) {\n      return;\n    }\n\n    BooksDataService.retrieveBook(INSTRUCTOR, this.state.id).then(response =>\n      this.setState({\n        description: response.data.description,\n        author: response.data.author,\n        isbn: response.data.isbn\n      })\n    );\n  }\n\n  validate(values) {\n    let errors = {};\n    if (!values.description) {\n      errors.description = \"Enter a Description\";\n    } else if (values.description.length < 5) {\n      errors.description = \"Enter atleast 5 Characters in Description\";\n    }\n\n    return errors;\n  }\n\n  onSubmit(values) {\n\n    let book = {\n      \"id\": this.state.id,\n      \"description\": values.description,\n      \"author\": values.author,\n      \"isbn\": values.isbn,\n    };\n\n    if (this.state.id === \"-1\") {\n      console.log(\"this.state.id === -1\",this.props.history)\n      BooksDataService.createBook(book).then(() =>\n        this.props.history.push(\"/students\")\n      );\n    } else {\n      console.log(\"EI JOOKSE\")\n      BooksDataService.updateBook(this.state.id, book).then(() =>\n        this.props.history.push(\"/students\")\n      );\n    }\n    console.log(this.state.id);\n    console.log(values);\n  }\n\n  onSubmitComment(values) {\n    let username = INSTRUCTOR;\n\n    let book = {\n      comment: values.comment\n    };\n\n    if (this.comment) {\n      CommentsDataService.createBook(username, book).then(() =>\n        this.props.history.push(\"/comments\")\n      );\n    } else {\n      CommentsDataService.updateBook(username, book).then(() =>\n        this.props.history.push(\"/comments\")\n      );\n    }\n\n    console.log(values);\n  }\n\n  render() {\n    let { description, id, author, isbn } = this.state;\n\n    return (\n      <div>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-sm-6 first-column\">\n              <h3>Edit book</h3>\n              <Formik\n                initialValues={{ id, description, author, isbn }}\n                onSubmit={this.onSubmit}\n                validateOnChange={false}\n                validateOnBlur={false}\n                validate={this.validate}\n                enableReinitialize={true}\n              >\n                {props => (\n                  <Form>\n                    <ErrorMessage\n                      name=\"description\"\n                      component=\"div\"\n                      className=\"alert alert-warning\"\n                    />\n                    <fieldset className=\"form-group\">\n                      <label>Id</label>\n                      <Field\n                        className=\"form-control\"\n                        type=\"text\"\n                        name=\"id\"\n                        disabled\n                      />\n                    </fieldset>\n                    <fieldset className=\"form-group\">\n                      <label>Title</label>\n                      <Field\n                        className=\"form-control\"\n                        type=\"text\"\n                        name=\"description\"\n                      />\n                    </fieldset>\n                    <fieldset className=\"form-group\">\n                      <label>Author</label>\n                      <Field\n                        className=\"form-control\"\n                        type=\"text\"\n                        name=\"author\"\n                      />\n                    </fieldset>\n                    <fieldset className=\"form-group\">\n                      <label>ISBN-13</label>\n                      <Field className=\"form-control\" type=\"text\" name=\"isbn\" />\n                    </fieldset>\n                    <button\n                      className=\"btn btn-success float-right\"\n                      type=\"submit\"\n                    >\n                      Update\n                    </button>\n                  </Form>\n                )}\n              </Formik>\n            </div>\n            <div className=\"col-sm-6 second-column\">\n              <h3>Comments</h3>\n              <Formik\n                onSubmit={this.onSubmitComment}\n              >\n                {props => (\n                  <Form>\n                    <fieldset className=\"form-group\">\n                      <label>Comment</label>\n                      <Field\n                        className=\"form-control\"\n                        type=\"text\"\n                        name=\"comment\"\n                      />\n                    </fieldset>\n                    <button\n                      className=\"btn btn-success float-right\"\n                      type=\"submit\"\n                    >\n                      Add comment\n                    </button>\n                  </Form>\n                )}\n              </Formik>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default EditBooksComponent;\n"]},"metadata":{},"sourceType":"module"}